<!DOCTYPE html>
<!-- Avant.ORG -->
<html lang="fr-FR"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<title>TP Réseaux – nsi</title>
<style id="editorskit-typography-inline-css"></style><meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="nsi » Flux" href="https://nsirennes.fr/feed/">
<link rel="alternate" type="application/rss+xml" title="nsi » Flux des commentaires" href="https://nsirennes.fr/comments/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/nsirennes.fr\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="TPreseauNSI_fichiers/wp-emoji-release.js" type="text/javascript" defer="defer"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="wp-block-library-css" href="TPreseauNSI_fichiers/style_003.css" type="text/css" media="all">
<link rel="stylesheet" id="editorskit-frontend-css" href="TPreseauNSI_fichiers/style_004.css" type="text/css" media="all">
<link rel="stylesheet" id="avant-default-fonts-css" href="TPreseauNSI_fichiers/css.css" type="text/css" media="all">
<link rel="stylesheet" id="avant-style-css" href="TPreseauNSI_fichiers/style_002.css" type="text/css" media="all">
<link rel="stylesheet" id="avant-header-style-css" href="TPreseauNSI_fichiers/header-seven.css" type="text/css" media="all">
<link rel="stylesheet" id="avant-child-style-avant-portfolio-css" href="TPreseauNSI_fichiers/style.css" type="text/css" media="all">
<link rel="stylesheet" id="avant-font-awesome-css" href="TPreseauNSI_fichiers/all.css" type="text/css" media="all">
<link rel="stylesheet" id="avant-footer-style-css" href="TPreseauNSI_fichiers/footer-standard.css" type="text/css" media="all">
<script type="text/javascript" src="TPreseauNSI_fichiers/jquery_002.js" id="jquery-core-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/jquery-migrate.js" id="jquery-migrate-js"></script>
<link rel="https://api.w.org/" href="https://nsirennes.fr/wp-json/"><link rel="alternate" type="application/json" href="https://nsirennes.fr/wp-json/wp/v2/pages/583"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://nsirennes.fr/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://nsirennes.fr/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.8.2">
<link rel="canonical" href="https://nsirennes.fr/os-archi/reseaux/">
<link rel="shortlink" href="https://nsirennes.fr/?p=583">
<link rel="alternate" type="application/json+oembed" href="https://nsirennes.fr/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnsirennes.fr%2Fos-archi%2Freseaux%2F">
<link rel="alternate" type="text/xml+oembed" href="https://nsirennes.fr/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnsirennes.fr%2Fos-archi%2Freseaux%2F&amp;format=xml">

<!-- Begin Custom CSS -->
<style type="text/css" id="avant-custom-css">
body,
				.widget-area .widget a{font-family:'Verdana', sans-serif;}h1, h2, h3, h4, h5, h6,
                h1 a, h2 a, h3 a, h4 a, h5 a, h6 a,
                .widget-area .widget-title,
                .main-navigation ul li a,
                .woocommerce table.cart th,
                .woocommerce-page #content table.cart th,
                .woocommerce-page table.cart th,
                .woocommerce input.button.alt,
                .woocommerce-page #content input.button.alt,
                .woocommerce table.cart input,
                .woocommerce-page #content table.cart input,
                .woocommerce-page table.cart input,
                button, input[type="button"],
                input[type="reset"],
                input[type="submit"]{font-family:'Verdana', sans-serif;}.site-title a{font-family:'Verdana', sans-serif;}.site-description{text-transform:none;font-family:'Verdana', sans-serif;font-size:13px;}.main-navigation li a,
				.header-cart{font-size:12px;}.side-aligned-social{top:0px;}
</style>
<!-- End Custom CSS -->
<link rel="icon" href="https://nsirennes.fr/wp-content/uploads/2019/08/cropped-logoNsiRennesFr-32x32.png" sizes="32x32">
<link rel="icon" href="https://nsirennes.fr/wp-content/uploads/2019/08/cropped-logoNsiRennesFr-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://nsirennes.fr/wp-content/uploads/2019/08/cropped-logoNsiRennesFr-180x180.png">
<meta name="msapplication-TileImage" content="https://nsirennes.fr/wp-content/uploads/2019/08/cropped-logoNsiRennesFr-270x270.png">
</head>
<body class="page-template-default page page-id-583 page-child parent-pageid-79">
<a class="skip-link screen-reader-text" href="#site-content">Skip to content</a>

	<div class="side-aligned-social">
		<a href="http://ftp.nsirennes.fr/" target="_blank" title="ftp" class="social-icon social-facebook"><i class="fas fa-server"></i></a><a href="http://pad.nsirennes.fr/" target="_blank" title="Pad" class="social-icon social-twitter"><i class="fas fa-edit"></i></a><a href="http://cloud.nsirennes.fr/" target="_blank" title="cloud" class="social-icon social-pinterest"><i class="fas fa-cloud"></i></a>	</div>
<div id="page" class="hfeed site  avant-home-featured-image avant-site-full-width">



	<div class="site-top-border"></div>







	<div class="site-container content-container content-has-sidebar       widget-title-style-plain">
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">


        <header class="entry-header">


                <h3 class="entry-title">TP Réseaux</h3>



        </header><!-- .entry-header -->




<article id="post-583" class="post-583 page type-page status-publish hentry category-architecture-materielle-os">


	<div class="entry-content">


<h1><span id="lwptoc1">TP 1</span></h1>



<p>durée = 1h30</p>



<h2><span id="lwptoc2">En situation réelle</span></h2>



<h3><span id="lwptoc3">Configuration réseau de l’équipement</span></h3>



<h4><span id="lwptoc4">Sur Windows</span></h4>



<p>Taper :</p>



<ul><li><code>cmd</code>  pour ouvrir l’invite de commande.</li><li><code>ipconfig</code>  pour voir l’adresse MAC et l’adresse IP de votre ordinateur<br>ou  <code>ipconfig/all</code>  pour davantage d’informations.</li></ul><h4><span id="lwptoc5">Sur Linux</span></h4>



<ul><li><code>ifconfig</code>  ou  <code>ip a</code>   dans une console Linux pour voir l’adresse MAC et l’adresse IP.</li></ul><h3><span id="lwptoc6">Tester la connexion vers un site&nbsp;:</span></h3>



<h4><span id="lwptoc7">Sur Windows</span></h4>



<ul><li><code>ping www.google.fr</code>  pour voir si le serveur est joignable.</li><li><code>tracert www.google.fr</code>  pour connaître le chemin pour atteindre un site&nbsp;: &nbsp;</li></ul><h4><span id="lwptoc8">Sur Linux</span></h4>



<ul><li><code>ping www.google.fr</code>  puis Ctrl+C pour arrêter les pings.</li><li><code>traceroute www.ubuntu-fr.org</code>  pour voire la listes des routeurs traversés jusqu’au serveur d’Ubuntu.</li></ul><h2><span id="lwptoc9">TP Filius (réseau virtuel)</span></h2>



<p>La logiciel Filius contient 3 modes : </p>



<ul><li>le mode construction/conception : l’icone marteau</li><li>le mode lecture (exécution) : la flèche verte</li><li>le crayon sert à annoter un schéma</li></ul><h3><span id="lwptoc10">1er montage</span></h3>



<ul><li>Réaliser le montage ci-dessous.</li><li>Ajouter l’adresse IP et le masque de réseau de chacun.</li><li>Passer en mode lecture (flèche verte).</li><li>Ajouter
 un logiciel de ligne de commande dans chaque équipement (en double
cliquant sur le logiciel, puis «&nbsp;appliquer les
modifications&nbsp;»)</li><li>Vérifier que tout fonctionne avec des pings entre les différents équipements.</li></ul><figure class="wp-block-image size-large"><img loading="lazy" src="TPreseauNSI_fichiers/montage1.png" alt="" class="wp-image-598" srcset="TPreseauNSI_fichiers/montage1.png 565w, TPreseauNSI_fichiers/montage1-285x300.png 285w" sizes="(max-width: 565px) 100vw, 565px" width="565" height="595"></figure><h3><span id="lwptoc11">2ème montage</span></h3>



Télécharger ce fichier : <a href="NSI_teminale\Routage\paquets_vis.fls">le montage filius</a>



<h4><span id="lwptoc12">1°) Chez BOB&nbsp;: ping vers Alice&nbsp;:</span></h4>



<ul><li>Se mettre en mode lecture (flèche verte).</li><li>clic droit sur BOB, et afficher les échanges … en petite fenêtre (c’est juste pour voir qu’elle se remplit progressivement)</li><li>clic sur l’invite de commande</li><li>Lancer une salve de pings vers Anna : <code>ping 192.168.2.1</code>&nbsp; et&nbsp; observer le passage de paquets</li></ul><p>Observations&nbsp;:</p>



<ul><li>Sur le 1<sup>er</sup> paquet = ARP&nbsp;: BOB demande au routeur son adresse MAC avec l’adresse MAC de broadcast FFFF..FF<br><strong>Le protocole ARP permet d’associer une adresse IP à une adresse MAC.<br></strong></li><li>2<sup>ème</sup>
 paquet&nbsp;: Cette fois, on remarque que les 2 @MAC sont renseignées …
 comment le routeur a-t-il fait pour connaitre @MAC de BOB&nbsp;?</li></ul><ul><li>Observer les alternances ping et pong.</li></ul><ul><li>Quelle est @IP destinataire&nbsp;? C’est @IP de Alice (ok c’est cohérent)<br>Qu’en est-il de l’@MAC destinataire, est-ce Alice&nbsp;? ….</li></ul><ul><li>Puis on <strong>efface tous ces échanges</strong>&nbsp;: clic droit dans la table (zone verte) ou mieux encore recharger le fichier téléchargé.</li></ul><h4><span id="lwptoc13">2°) Chez BOB&nbsp;: navigateur internet</span></h4>



<ul><li>Se mettre en mode lecture (flèche verte).</li><li>clic droit sur BOB, et afficher les échanges … en petite fenêtre</li><li>clic sur le navigateur</li><li>Pour visiter le site web du serveur web, taper&nbsp;:&nbsp; <code>192.168.3.1</code>&nbsp; et&nbsp; observer le passage de paquets</li></ul><p>Observations&nbsp;:</p>



<ul><li>1<sup>er</sup> paquet = SYN&nbsp;: demande une connection TCP au serveur<br>2<sup>e</sup> paquet = SYN/ACK = synchronyze &nbsp;&nbsp;and &nbsp;&nbsp;acknowledgement&nbsp;:<strong> la poignée de main en 3 phases</strong></li><li>4<sup>e</sup> paquet&nbsp;: BOB fait une demande GET de la page web</li><li>6<sup>e</sup> paquet&nbsp;: BOB reçoit le fichier HTML (un fichier texte)</li><li>8° paquet&nbsp;: BOB demande l’image&nbsp;et là ça va prendre plusieurs paquets&nbsp;!!</li></ul><ul><li>Puis ligne 22&nbsp;: BOB demande à mettre Fin à la connexion TCP&nbsp;:<strong> la poignée de main en 4 phases</strong>.</li></ul><h4><span id="lwptoc14">3°) En changeant d’image&nbsp;:</span></h4>



<p>Sur le serveur WEB&nbsp;:</p>



<ul><li>Ouvrir son éditeur de texte et ouvrir le fichier&nbsp; <code>index.html</code></li><li>Modifier le nom de l’image par&nbsp;:&nbsp;&nbsp;&nbsp; <code>tux-ski.jpg</code></li><li>Sauvegarder</li></ul><p>Chez BOB&nbsp;:</p>



<ul><li>Actualiser la page WEB et observer</li></ul><p>Recommencer avec une erreur dans le nom de l’image !</p>



<h1><span id="lwptoc15">TP 2</span></h1>



<p>durée = presque 2h.</p>



<h2><span id="lwptoc16">Table ARP</span></h2>



<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><img loading="lazy" src="TPreseauNSI_fichiers/Filius_laptop.png" alt="" class="wp-image-636" width="244" height="186"></figure></div>



<p><strong>1ère étape :</strong></p>



<ul><li>Sur Filius, réaliser le montage avec 2 ordinateurs. Dans les paramètres de chaque ordinateur, cocher la case «&nbsp;<strong>Utiliser l’adresse IP comme nom</strong>«&nbsp;.</li><li>Passer en&nbsp;<strong>mode simulation</strong>. Par un double-clic sur la première machine (192.168.1.1), ouvrir l’<strong>installateur de logiciels</strong>.</li><li>Installer la&nbsp;<strong>ligne de commande</strong>&nbsp;en la faisant passer à gauche avec&nbsp;<img loading="lazy" src="TPreseauNSI_fichiers/Filius_fleche.html" alt="" width="" height=""></li><li>Ouvrir la ligne de commande (double-clic) et saisir l’instruction&nbsp;<em>ipconfig</em></li><li>Saisir la commande&nbsp;<em>arp</em>&nbsp;à l’invite de commande.</li><li>Enregistrer ce montage dans un fichier (avant de faire des échanges).</li></ul><p><strong>2ème étape :</strong></p>



<ul><li>Effectuer un ping vers l’autre ordinateur, ex : <em>ping 192.168.1.2</em></li><li>Saisir à nouveau la commande&nbsp;<em>arp</em>&nbsp;à l’invite de commande … <strong>Qu’est ce qui a changé depuis le ping&nbsp;?</strong></li><li>Faire un clic-droit sur la machine 192.168.1.1 et afficher les échanges de données. Repérer l’échange avec le&nbsp;<strong>protocole ARP</strong>&nbsp;.</li></ul><h2><span id="lwptoc17">Table CAM/SAT d’un switch</span></h2>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="TPreseauNSI_fichiers/filius_switch_tableSAT-1024x484.png" alt="" class="wp-image-661" srcset="TPreseauNSI_fichiers/filius_switch_tableSAT-1024x484.png 1024w, TPreseauNSI_fichiers/filius_switch_tableSAT-300x142.png 300w, TPreseauNSI_fichiers/filius_switch_tableSAT-768x363.png 768w, TPreseauNSI_fichiers/filius_switch_tableSAT.png 1041w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="484"></figure></div>



<ul><li>Reprendre le fichier précédent (vierge de tout échange).
Supprimer le câble (clic droit) et ajouter un switch (commutateur) et un
 3e ordinateur.</li><li>Par un simple clic sur le switch, afficher la table SAT/CAM du switch (vérifier qu’elle est vide).</li></ul><p><strong>1er ping</strong> :</p>



<ul><li>Installer la&nbsp;<strong>ligne de commande</strong>&nbsp;sur 192.168.1.1 et lancer un ping vers le 2e ordinateur .1.2.</li><li>Afficher à nouveau la table du switch. <strong>Qu’est ce qui a changé depuis le ping&nbsp;?</strong></li><li>Afficher les échanges du 3e ordinateur … <strong>Pourquoi a-t-il reçu une requête ARP ?</strong> <strong>A-t-il répondu à cette requête ARP ?</strong></li></ul><p><strong>2ème ping</strong> :</p>



<ul><li>Toujours depuis la&nbsp;<strong>ligne de commande</strong>&nbsp;de 192.168.1.1 et lancer un ping vers le 3e ordinateur .1.3 cette fois.</li><li>Afficher à nouveau la table du switch. <strong>S’est-elle encore enrichie&nbsp;?</strong></li><li>Afficher les échanges de ce 3e ordinateur … <strong>Pourquoi a-t-il encore reçu une nouvelle requête ARP ?</strong> <strong>A-t-il répondu cette fois ?</strong></li></ul><h2><span id="lwptoc18">Routeur et passerelle</span></h2>



<p>Réaliser ce nouveau montage utilisant <strong>un routeur à 2 interfaces</strong>.<br>Bien noter que ce montage contient 2 réseaux : 192.168.0.0/24 et 192.168.2.0/24.</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="TPreseauNSI_fichiers/filius_routeur-1-1024x559.png" alt="" class="wp-image-670" srcset="TPreseauNSI_fichiers/filius_routeur-1-1024x559.png 1024w, TPreseauNSI_fichiers/filius_routeur-1-300x164.png 300w, TPreseauNSI_fichiers/filius_routeur-1-768x419.png 768w, TPreseauNSI_fichiers/filius_routeur-1.png 1234w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="559"></figure></div>



<p><strong>1ère partie</strong> / sans configurer le routeur :</p>



<ul><li>En mode simulation (flèche verte), sur la machine 192.168.0.1,&nbsp;<strong>tester les connexions</strong>&nbsp;vers les autres machines avec la commande ping.</li><li>Quelles machines ne peuvent <strong>pas</strong> être atteintes par .0.1 ?</li></ul><p><strong>2ème partie</strong> / en configurant le routeur :</p>



<ul><li>En mode construction (marteau), donner une adresse IP (du sous-réseau) à chaque interface du routeur. Par exemple : &nbsp;  .254</li><li><strong>tester les connexions</strong>&nbsp;vers les machines de l’autre réseau avec la commande ping. Le problème est-il résolu ?</li></ul><p><strong>3ème partie</strong> / En configurant aussi les ordinateurs :</p>



<ul><li>En mode construction (marteau), renseigner la passerelle (gateway) de chaque ordinateur. <br><strong>Attention, chaque réseau possède sa propre passerelle&nbsp;!</strong></li><li>Le problème est-il enfin résolu ?</li><li>Effectuer un&nbsp;<em>traceroute</em>&nbsp;(ligne de commande) de la machine 192.168.1.1 vers le portable 192.168.2.1.</li><li>Enregistrer ce fichier : on en a besoin pour la partie suivante.</li></ul><h2><span id="lwptoc19">Serveur DNS</span></h2>



<p>Reprendre le montage précédent :</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" src="TPreseauNSI_fichiers/filius_serveur-1-1024x558.png" alt="" class="wp-image-683" srcset="TPreseauNSI_fichiers/filius_serveur-1-1024x558.png 1024w, TPreseauNSI_fichiers/filius_serveur-1-300x164.png 300w, TPreseauNSI_fichiers/filius_serveur-1-768x419.png 768w, TPreseauNSI_fichiers/filius_serveur-1.png 1231w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="558"></figure></div>



<ul><li>En&nbsp;<strong>mode conception</strong> (marteau), double-cliquer sur le routeur puis&nbsp;<em>Configurer &gt; Gérer les connections</em>.</li><li>En
 cliquant sur +, ajouter une troisième interface locale. Fermer la
fenêtre et se rendre dans l’onglet correspondant pour lui attribuer
l’adresse IP&nbsp;<strong> .254</strong></li><li>Ajouter un nouvel
ordinateur et le connecter à la troisième interface fraîchement créée du
 routeur. Attribuer l’adresse IP 192.168.1.1 à cet ordinateur (futur
serveur) et n’oubliez pas de renseigner l’adresse de la passerelle.</li><li>En&nbsp;<strong>mode simulation</strong> (flèche verte), ajouter un&nbsp;<strong>serveur DNS</strong>&nbsp;à ce nouvel ordinateur. Configurer ce serveur DNS en ajoutant, dans l’onglet&nbsp;<em>Adresse(A)</em>, le nom de domaine&nbsp;<em>www.nsi.fr</em>&nbsp;à l’adresse IP 192.168.2.2 (l’autre ordinateur « tour » tout à droite).</li></ul><figure class="wp-block-image size-large"><img loading="lazy" src="TPreseauNSI_fichiers/filius_dns-3-1024x622.png" alt="" class="wp-image-685" srcset="TPreseauNSI_fichiers/filius_dns-3-1024x622.png 1024w, TPreseauNSI_fichiers/filius_dns-3-300x182.png 300w, TPreseauNSI_fichiers/filius_dns-3-768x466.png 768w, TPreseauNSI_fichiers/filius_dns-3.png 1085w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="622"></figure><ul><li>Démarrer le&nbsp;<strong>serveur DNS</strong> : clic sur «&nbsp;<strong>Démarrer</strong>«&nbsp;.</li><li><strong>En mode construction</strong> (marteau), configurer le champs DNS de tous les ordinateurs portables en&nbsp;<strong>précisant l’adresse IP du serveur DNS crée.</strong></li><li>En&nbsp;<strong>mode simulation</strong>, effacer les échanges.</li><li>Effectuer un&nbsp;<em>ping www.nsi.fr</em>&nbsp;à partir de différentes machines du réseau (sur lesquelles on aura installé la ligne de commande).</li><li>Afficher
 les échanges … Remarquer les 2 échanges UDP (aller-retour) vers le
serveur DNS 192.168.1.1 qui contiennent les 4 couches : <ul><li>liaison de données : @ MAC</li><li>réseau : @ IP</li><li>transport : UDP, port 53, le TTL (time to live) en secondes.</li><li>application : requête DNS de www.nsi.fr</li></ul></li></ul><h2><span id="lwptoc20">Serveur Web</span></h2>



<p>On veut maintenant&nbsp;<strong>héberger nos pages web</strong>&nbsp;sur un serveur de notre réseau. Ce serveur devra être accessible par toutes nos machines, via l’URL&nbsp;<em>www.nsi.fr</em>. Nous choisissons donc la machine 192.168.2.2 (à droite) comme serveur web.</p>



<p><strong>Sur le serveur 192.168.2.2&nbsp;(à droite) :</strong></p>



<ul><li>Enregistrer le précédent réseau, comprenant le serveur DNS, sous un autre nom (ex&nbsp;:&nbsp;<em>ServeurWeb.fls</em>)</li><li>Passer en&nbsp;<strong>mode simulation</strong> (flèche verte)</li><li>Installer un logiciel de&nbsp;<em><strong>serveur Web</strong></em>&nbsp;et un&nbsp;<em>éditeur de texte</em>&nbsp;sur la machine&nbsp;<em><strong>192.168.2.2</strong></em> (à droite).</li><li><strong>Démarrer</strong>&nbsp;le serveur web.</li><li>A l’aide de l’éditeur de texte (<em>Menu Fichier / Ouvrir</em>), ouvrir le fichier&nbsp;<em>index.html</em>&nbsp;qui est déjà dans le dossier&nbsp;<em>webserver</em>. Le modifier à votre guise et enregistrer.</li></ul><p><strong>Sur le client 192.168.0.1&nbsp;:</strong></p>



<ul><li>Installer un&nbsp;<strong>client Web</strong>&nbsp;(navigateur web) sur la machine 192.168.0.1.</li><li>Démarrer le navigateur et saisir l’URL&nbsp;<em>www.nsi.fr</em>&nbsp;dans la barre d’adresse, pour envoyer une requête HTTP au serveur Web. La page d’accueil du serveur devrait s’afficher.</li><li>Activer l’<strong>affichage des données</strong>&nbsp;sur la machine 192.168.1.1 avec un clic-droit.</li><li>Au besoin, relancer la requête HTTP précédente (<em>www.nsi.fr</em>) à l’aide du navigateur puis&nbsp;<strong>analyser</strong>&nbsp;l’échange de données.</li></ul><h2><span id="lwptoc21">http vs https avec Wireshark</span></h2>



<p>Pour voir si une transmission est chiffrée ou non, il faut un logiciel de capture de trames :&nbsp;<em>Wireshark</em>.<br>Et <strong>Firefox</strong> (car Chrome refuse les connections non sécurisées).</p>



<p>Voici 2 pages de connexion, l’une est sécurisée (https) et l’autre ne l’est pas (http) :</p>



<ul><li><a href="http://testphp.vulnweb.com/login.php" class="ek-link">http://testphp.vulnweb.com/login.php</a> :<ul><li>entrer n’importe quel identifiant/mot de passe</li><li>puis filtrer les trames Wireshark avec  <code>ip.dst == 18.192.172.30</code></li></ul></li><li><a rel="noreferrer noopener" href="https://nsirennes.fr/wp-login.php" target="_blank" class="ek-link">https://nsirennes.fr/wp-login.php</a> :<ul><li>Lancer une « Connexion » avec un login/password quelconque.</li><li>puis filtrer les trames Wireshark avec <code>ip.dst == 164.132.47.68</code></li></ul></li></ul><p>En http, les mots de passe circulent en clair :</p>



<figure class="wp-block-gallery columns-1 is-cropped"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><img loading="lazy" src="TPreseauNSI_fichiers/10requeteHTML_enClair-1024x276.png" alt="" data-id="698" data-link="https://nsirennes.fr/os-archi/reseaux/10requetehtml_enclair/" class="wp-image-698" srcset="TPreseauNSI_fichiers/10requeteHTML_enClair-1024x276.png 1024w, TPreseauNSI_fichiers/10requeteHTML_enClair-300x81.png 300w, TPreseauNSI_fichiers/10requeteHTML_enClair-768x207.png 768w, TPreseauNSI_fichiers/10requeteHTML_enClair-1536x413.png 1536w, TPreseauNSI_fichiers/10requeteHTML_enClair-2048x551.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="276"></figure></li></ul></figure><hr class="wp-block-separator"><p>En https, le mot de passe est chiffé :</p>



<figure class="wp-block-image size-large"><img loading="lazy" src="TPreseauNSI_fichiers/10requeteHTML_chiffree-2-1024x294.png" alt="" class="wp-image-703" srcset="TPreseauNSI_fichiers/10requeteHTML_chiffree-2-1024x294.png 1024w, TPreseauNSI_fichiers/10requeteHTML_chiffree-2-300x86.png 300w, TPreseauNSI_fichiers/10requeteHTML_chiffree-2-768x220.png 768w, TPreseauNSI_fichiers/10requeteHTML_chiffree-2-1536x441.png 1536w, TPreseauNSI_fichiers/10requeteHTML_chiffree-2-2048x587.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="294"></figure>

	</div><!-- .entry-content -->

</article><!-- #post-## -->



		</main><!-- #main -->
	</div><!-- #primary -->

	<div id="secondary" class="widget-area sidebar-break-blocks" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://nsirennes.fr/">
	<label>
		<input type="search" class="search-field" placeholder="Search &amp; hit enter..." name="s">
	</label>
	<input type="submit" class="search-submit" value="&nbsp;">
</form></aside><aside id="lpwtoc_widget-2" class="widget widget_lpwtoc_widget"><div class="lwptoc lwptoc-autoWidth lwptoc-baseItems lwptoc-light lwptoc-notInherit" data-smooth-scroll="1" data-smooth-scroll-offset="24" data-lwptoc-initialized="1"><div class="lwptoc_i">    <div class="lwptoc_header">
        <b class="lwptoc_title">Contenus</b>                    <span class="lwptoc_toggle">
                <a href="#" class="lwptoc_toggle_label" data-label="afficher">masquer</a>
            </span>
            </div>
<div class="lwptoc_items lwptoc_items-visible">
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc1">
                    <span class="lwptoc_item_number">1</span>
                <span class="lwptoc_item_label">TP 1</span>
    </a>
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc2">
                    <span class="lwptoc_item_number">1.1</span>
                <span class="lwptoc_item_label">En situation réelle</span>
    </a>
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc3">
                    <span class="lwptoc_item_number">1.1.1</span>
                <span class="lwptoc_item_label">Configuration réseau de l’équipement</span>
    </a>
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc4">
                    <span class="lwptoc_item_number">1.1.1.1</span>
                <span class="lwptoc_item_label">Sur Windows</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc5">
                    <span class="lwptoc_item_number">1.1.1.2</span>
                <span class="lwptoc_item_label">Sur Linux</span>
    </a>
    </div></div></div><div class="lwptoc_item">    <a href="#lwptoc6">
                    <span class="lwptoc_item_number">1.1.2</span>
                <span class="lwptoc_item_label">Tester la connexion vers un site :</span>
    </a>
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc7">
                    <span class="lwptoc_item_number">1.1.2.1</span>
                <span class="lwptoc_item_label">Sur Windows</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc8">
                    <span class="lwptoc_item_number">1.1.2.2</span>
                <span class="lwptoc_item_label">Sur Linux</span>
    </a>
    </div></div></div></div></div><div class="lwptoc_item">    <a href="#lwptoc9">
                    <span class="lwptoc_item_number">1.2</span>
                <span class="lwptoc_item_label">TP Filius (réseau virtuel)</span>
    </a>
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc10">
                    <span class="lwptoc_item_number">1.2.1</span>
                <span class="lwptoc_item_label">1er montage</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc11">
                    <span class="lwptoc_item_number">1.2.2</span>
                <span class="lwptoc_item_label">2ème montage</span>
    </a>
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc12">
                    <span class="lwptoc_item_number">1.2.2.1</span>
                <span class="lwptoc_item_label">1°) Chez BOB : ping vers Alice :</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc13">
                    <span class="lwptoc_item_number">1.2.2.2</span>
                <span class="lwptoc_item_label">2°) Chez BOB : navigateur internet</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc14">
                    <span class="lwptoc_item_number">1.2.2.3</span>
                <span class="lwptoc_item_label">3°) En changeant d’image :</span>
    </a>
    </div></div></div></div></div></div></div><div class="lwptoc_item">    <a href="#lwptoc15">
                    <span class="lwptoc_item_number">2</span>
                <span class="lwptoc_item_label">TP 2</span>
    </a>
    <div class="lwptoc_itemWrap"><div class="lwptoc_item">    <a href="#lwptoc16">
                    <span class="lwptoc_item_number">2.1</span>
                <span class="lwptoc_item_label">Table ARP</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc17">
                    <span class="lwptoc_item_number">2.2</span>
                <span class="lwptoc_item_label">Table CAM/SAT d’un switch</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc18">
                    <span class="lwptoc_item_number">2.3</span>
                <span class="lwptoc_item_label">Routeur et passerelle</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc19">
                    <span class="lwptoc_item_number">2.4</span>
                <span class="lwptoc_item_label">Serveur DNS</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc20">
                    <span class="lwptoc_item_number">2.5</span>
                <span class="lwptoc_item_label">Serveur Web</span>
    </a>
    </div><div class="lwptoc_item">    <a href="#lwptoc21">
                    <span class="lwptoc_item_number">2.6</span>
                <span class="lwptoc_item_label">http vs https avec Wireshark</span>
    </a>
    </div></div></div></div></div>
</div></div></aside></div><!-- #secondary -->
	<div class="clearboth"></div>
		<div class="clearboth"></div>
	</div><!-- #content -->



		<footer id="colophon" class="site-footer site-footer-standard">


	<div class="site-footer-widgets">
        <div class="site-container">
            	            <ul>
	                <li id="search-4" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://nsirennes.fr/">
	<label>
		<input type="search" class="search-field" placeholder="Search &amp; hit enter..." name="s">
	</label>
	<input type="submit" class="search-submit" value="&nbsp;">
</form></li>
	            </ul>
	                    <div class="clearboth"></div>
        </div>
	</div>


</footer>
<div class="site-footer-bottom-bar ">
	<div class="site-container"><div class="site-footer-bottom-bar-left">			                <a href="http://ftp.nsirennes.fr/" target="_blank" title="ftp" class="social-icon social-facebook"><i class="fas fa-server"></i></a><a href="http://pad.nsirennes.fr/" target="_blank" title="Pad" class="social-icon social-twitter"><i class="fas fa-edit"></i></a><a href="http://cloud.nsirennes.fr/" target="_blank" title="cloud" class="social-icon social-pinterest"><i class="fas fa-cloud"></i></a></div></div><div class="clearboth"></div>
</div>




</div><!-- #page -->
	<div class="scroll-to-top"><i class="fas fa-angle-up"></i></div> <!-- Scroll To Top Button -->
<link rel="stylesheet" id="lwptoc-main-css" href="TPreseauNSI_fichiers/main.css" type="text/css" media="all">
<script type="text/javascript" src="TPreseauNSI_fichiers/custom.js" id="avant-custom-js-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/jquery_003.js" id="caroufredsel-js-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/home-slider.js" id="avant-home-slider-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/imagesloaded.js" id="imagesloaded-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/masonry.js" id="masonry-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/jquery.js" id="jquery-masonry-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/layout-blocks.js" id="avant-masonry-custom-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/wp-embed.js" id="wp-embed-js"></script>
<script type="text/javascript" src="TPreseauNSI_fichiers/main.js" id="lwptoc-main-js"></script>
	<script>
	/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
	</script><style>.lwptoc .lwptoc_i{background-color:#ffffff;border:1px solid #000000;}</style>
</body></html>
